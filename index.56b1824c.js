function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=r.parcelRequired76b;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},r.parcelRequired76b=s),s.register("kyEFX",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},o=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("bTcpz",(function(t,r){e(t.exports,"onOpenModal",(function(){return o})),e(t.exports,"closeModal",(function(){return i}));var n=s("3fz09");function o(){const e=window.innerWidth-n.refs.body.clientWidth;e&&(n.refs.body.style.marginRight=e+"px"),n.refs.overlay.classList.add("visiable"),n.refs.body.classList.add("no-scroll"),window.addEventListener("keydown",a)}function a(e){"Escape"===e.code&&(i(),window.removeEventListener("keydown",a))}function i(){n.refs.overlay.classList.remove("visiable"),n.refs.body.classList.remove("no-scroll"),n.refs.movieDescription.textContent="",n.refs.body.style.marginRight=""}n.refs.overlay.addEventListener("click",(function(e){e.target===n.refs.overlay&&i()}))})),s.register("3fz09",(function(t,r){e(t.exports,"refs",(function(){return n}));const n={body:document.querySelector("body"),overlay:document.querySelector(".modal-overlay"),content:document.querySelector(".modal-content"),gallery:document.querySelector(".gallery"),galleryLibrary:document.querySelector(".gallery-library"),formRef:document.querySelector(".header__form"),movieDescription:document.querySelector("[data-movie-description]"),team:document.querySelector(".js-team-modal"),wrap:document.querySelector(".modal-team-wrap"),contentTeam:document.querySelector(".modal-team-content"),overlayTeam:document.querySelector(".modal-team-overlay"),btnClose:document.querySelector(".modal-team__close-btn"),mainList:document.querySelector(".main"),containerLib:document.querySelector(".container-lib"),btnWathed:document.querySelector(".js-watched"),btnQueue:document.querySelector(".js-queue"),headerThemeText:document.querySelector(".theme-text"),iconSunBgc:document.querySelector(".theme__icon--sun"),iconMoonBgc:document.querySelector(".theme__icon--moon"),darkBtn:document.querySelector(".header__toolbar-theme"),footer:document.querySelector(".footer"),footerContainer:document.querySelector(".footer__container"),headerLib:document.querySelector(".header__theme--my-lib"),scrollBtn:document.querySelector(".is-show"),scollIcon:document.querySelector(".scroll-top__icon"),spinner:document.querySelector(".js-spinner"),load:document.querySelector("[data-load]"),backdrop:document.querySelector(".backdrop"),openModalBtn:document.querySelector("[data-about-modal-open]"),modal:document.querySelector("[data-about-modal]"),registrationWrapper:document.querySelector(".registrationWrapper"),registerBtn:document.querySelector(".register-btn"),loginBtn:document.querySelector(".login-btn"),changeFormRegister:document.querySelector(".register"),changeFormLogin:document.querySelector(".login"),registerForm:document.querySelector(".register-form"),loginForm:document.querySelector(".login-form"),iconEnter:document.querySelector(".iconEnter"),iconExit:document.querySelector(".iconExit"),loginedWrapper:document.querySelector(".loginedWrapper"),exitBtnFromOnline:document.querySelector(".exitBtnFromOnline"),tuiContainer:document.querySelector(".tui-pagination"),langValue:document.querySelector(".select__lang"),trend:document.querySelector(".select__trend")}})),s.register("185lj",(function(r,n){e(r.exports,"serverApi",(function(){return d}));var o=s("jkMrE"),a=s("g6yUq"),i=s("gMe87"),c=s("iJYdK"),l=new WeakMap;const d=new class{async getPopularMovie(){const e=await axios({url:`${this.baseUrl}/trending/movie/${this.trend}?${this.KEY}&page=${t(o)(this,l)}&language=${this.language}`});return await e.data}async getMovieOnDemand(e){const r=await axios({url:`${this.baseUrl}/search/movie?${this.KEY}&language=${this.language}&page=${t(o)(this,l)}&include_adult=false&query=${e}`});return 1===this.requestCount&&r.data.results.length&&Notiflix.Notify.success(`We found ${r.data.total_results} movies`,{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),await r.data}async getDetailsMovie(e){try{const t=await axios({url:`${this.baseUrl}/movie/${e}?${this.KEY}&language=${this.language}`});return await t.data}catch(e){console.log(e)}}async getTrailer(e){try{const t=await axios.get(`${this.baseUrl}/movie/${e}/videos?${this.KEY}&language=en-US`);return await t.data}catch(e){console.log(e)}}async getTop(){const e=await axios.get(`${this.baseUrl}/movie/top_rated?${this.KEY}&language=${this.language}&page=${this.getPage()}`);return await e.data}async getPopular(){const e=await axios.get(`${this.baseUrl}/movie/popular?${this.KEY}&language=${this.language}&page=${this.getPage()}`);return await e.data}setPage(e){t(i)(this,l,e)}setTotalResults(e){this.totalResults=e}incrementRequestCount(){this.requestCount++}setRequestCount(){this.requestCount=1}setlang(e){this.language=e}setTrend(e){this.trend=e}getTrend(){return this.trend}getPage(){return t(o)(this,l)>500?500:t(o)(this,l)}constructor(){t(a)(this,l,{writable:!0,value:1}),t(c)(this,"totalResults",2e4),t(c)(this,"requestCount",1),t(c)(this,"language","en-US"),t(c)(this,"trend","week"),t(c)(this,"KEY","api_key=7770a554235a470dd8487676c4d97407"),t(c)(this,"baseUrl","https://api.themoviedb.org/3"),t(c)(this,"baseSrc","https://image.tmdb.org/t/p/w500")}}})),s.register("jkMrE",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){var o=r.default(e,t,"get");return n.default(e,o)};var r=o(s("fExtF")),n=o(s("iaRLo"));function o(e){return e&&e.__esModule?e:{default:e}}})),s.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}})),s.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),s.register("g6yUq",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){n.default(e,t),t.set(e,r)};var r,n=(r=s("7K24o"))&&r.__esModule?r:{default:r}})),s.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),s.register("gMe87",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,o){var s=r.default(e,t,"set");return n.default(e,s,o),o};var r=o(s("fExtF")),n=o(s("3LGG3"));function o(e){return e&&e.__esModule?e:{default:e}}})),s.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}})),s.register("iJYdK",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}})),s.register("1fedI",(function(r,n){e(r.exports,"posterСheck",(function(){return i}));var o=s("185lj"),a=s("dgm7L");function i(e){return null===e?`${t(a)}`:`${o.serverApi.baseSrc}${e}`}})),s.register("dgm7L",(function(e,t){e.exports=new URL(s("kyEFX").resolve("45HKR"),import.meta.url).toString()})),s.register("2nhTy",(function(t,r){e(t.exports,"options",(function(){return n}));const n={totalItems:s("185lj").serverApi.totalResults,itemsPerPage:20,visiblePages:10,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<a href="#" class="tui-page-btn tui-is-selected">{{page}}</a>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}})),s.register("04jNI",(function(t,r){e(t.exports,"spinnerPlay",(function(){return a})),e(t.exports,"spinnerStop",(function(){return i}));var n=s("3fz09");const o=new Spinner({lines:14,length:27,width:20,radius:33,scale:.5,corners:1,speed:1,rotate:18,animation:"spinner-line-shrink",direction:1,color:"#ff6b08",fadeColor:"transparent",top:"49%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"}).spin(n.refs.spinner);function a(){o.spin(n.refs.spinner),n.refs.load.classList.remove("is-hidden")}function i(){n.refs.load.classList.add("is-hidden"),o.stop()}})),s.register("bRnc2",(function(t,r){e(t.exports,"genresArr",(function(){return n}));const n=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]})),s.register("it60l",(function(r,n){e(r.exports,"movieDescriptionMurkup",(function(){return i}));var o=s("1fedI"),a=s("1rJhf");const i=({id:e,poster_path:r,title:n,original_title:s,popularity:i,overview:c,genres:l,vote_average:d,vote_count:u})=>{const m=(0,o.posterСheck)(r),f=c.length>0?c:"Unfortunately, we don't have a description right now",g=[];l.forEach((({name:e})=>g.push(e)));return`\n  <div class="movie__description" data-movie-id="${e}">\n  <div class="movie__poster-wrappaer">\n    <img src="${m}" alt="${n}" class="movie__poster" />\n  </div>\n  <div class="movie__container">\n    <h3 class="movie__title">${n}</h3>\n    <div class="description__container">\n      <div class="description__title-wrapper">\n        <p class="description__title">Vote / Votes</p>\n        <p class="description__title">Popularity</p>\n        <p class="description__title">Original Title</p>\n        <p class="description__title">Genre</p>\n      </div>\n      <div class="description__text-wrapper">\n        <p class="description__text">\n          <span class="vote vote-accent">${d}</span>&#47;<span\n            class="vote"\n            >${u}</span\n          >\n        </p>\n        <p class="description__text description__popularity">${i}</p>\n        <p class="description__text">${s}</p>\n        <p class="description__text">${g.length>0?g.join(", "):"Genres not found"}</p>\n      </div>\n    </div>\n    <h4 class="about__title">About</h4>\n    <p class="about__text">${f}</p>\n    <div class="btn__container">\n      <button type="button" class="modal__btn" data-add-watched></button>\n      <button type="button" class="modal__btn" data-add-queue></button>\n      \n    </div>\n  </div>\n  <button type="button" class="btn-ytb youtube"><svg class="icon-youtube" width="44" height="44">\n      <use href="${t(a)}#icon-youtube"></use>\n    </svg></button>\n  <button type="button" class="modal__close" data-modal-close>\n    <svg class="modal__close-icon" width="18" height="18">\n      <use href="${t(a)}#icon-close"></use>\n    </svg>\n  </button>\n</div>\n  `}})),s.register("1rJhf",(function(e,t){e.exports=new URL(s("kyEFX").resolve("9v6fF"),import.meta.url).toString()})),s.register("9Co7P",(function(t,r){e(t.exports,"onAddWatchClick",(function(){return n})),e(t.exports,"onAddQueueClick",(function(){return o}));const n=e=>{let t=[];const r=document.querySelector("[data-add-watched]");if(localStorage.getItem("watch")&&(t=JSON.parse(localStorage.getItem("watch"))),"remove from watched"===r.textContent)return localStorage.setItem("watch",JSON.stringify(t.filter((t=>t.id!==e.id)))),void(r.textContent="add to watched");t.push(e),localStorage.setItem("watch",JSON.stringify(t)),r.textContent="remove from watched"},o=e=>{let t=[];const r=document.querySelector("[data-add-queue]");if(localStorage.getItem("queue")&&(t=JSON.parse(localStorage.getItem("queue"))),"remove from queue"===r.textContent)return localStorage.setItem("queue",JSON.stringify(t.filter((t=>t.id!==e.id)))),void(r.textContent="add to queue");t.push(e),localStorage.setItem("queue",JSON.stringify(t)),r.textContent="remove from queue"}})),s.register("lFT8c",(function(t,r){e(t.exports,"makeWatchTextContent",(function(){return n})),e(t.exports,"makeQueueTextContent",(function(){return o}));const n=e=>{let t=[];localStorage.getItem("watch")&&(t=JSON.parse(localStorage.getItem("watch")));let r=t.some((t=>t.id===e.id));document.querySelector("[data-add-watched]").textContent=r?"remove from watched":"add to watched"},o=e=>{let t=[];localStorage.getItem("queue")&&(t=JSON.parse(localStorage.getItem("queue")));let r=t.some((t=>t.id===e.id));document.querySelector("[data-add-queue]").textContent=r?"remove from queue":"add to queue"}})),s.register("c8VpK",(function(t,r){e(t.exports,"handleClick",(function(){return a}));var n=s("185lj"),o=s("04jNI");const a=async()=>{(0,o.spinnerPlay)();const e=document.querySelector(".movie__description").dataset.movieId;let t="";n.serverApi.getTrailer(e).then((({results:e})=>{e.map((e=>{"Trailer"===e.type&&"Official Trailer"===e.name&&(t=e.key)})),(0,o.spinnerStop)();basicLightbox.create(`\n        <div class="player-container">\n   <iframe class="player" src='https://www.youtube.com/embed/${t}'frameborder="0"\n   allow="accelerometer; autoplay; encrypted-media; gyroscope; \n   picture-in-picture" allowfullscreen></iframe> \n   </div>\n`).show()}))}})),s.register("7bYU0",(function(e,r){var n=s("kEhtE"),o=s("3fz09"),a=s("1rJhf");function i(e){"Escape"===e.code&&(c(),window.removeEventListener("keydown",i))}function c(){o.refs.overlayTeam.classList.remove("visiable"),o.refs.body.classList.remove("no-scroll")}o.refs.team.addEventListener("click",(function(e){e.preventDefault(),o.refs.overlayTeam.classList.add("visiable"),o.refs.body.classList.add("no-scroll");const r=(s=n.teamItems,s.map((({img:e,name:r,role:n,git:o})=>`<div class="team-card">\n      <img src="${e}" alt="${r}" class="team-image" width="150" height="150">\n      <p class="team-name">${r}</p>\n      <p class="team-role">${n}</p>\n      <a href="${o}" target="_blank" class="team-git">\n        <svg class="team-git__icon" width="24" height="24">\n          <use href="${t(a)}#git-hub"></use>\n        </svg>\n      </a>\n    </div>`)).join(""));var s;o.refs.wrap.innerHTML=r,window.addEventListener("keydown",i)})),o.refs.overlayTeam.addEventListener("click",(function(e){e.target===o.refs.overlayTeam&&c()})),o.refs.btnClose.addEventListener("click",c)})),s.register("kEhtE",(function(e,t){})),s.register("eobyt",(function(e,t){var r=s("3fz09");function n(){try{"dark"===localStorage.getItem("theme")?(r.refs.body.classList.add("dark"),r.refs.body.classList.add("img-dark"),r.refs.body.classList.remove("light"),r.refs.headerThemeText.textContent="Light",r.refs.iconSunBgc.classList.remove("visually-hidden"),r.refs.iconMoonBgc.classList.add("visually-hidden"),r.refs.footer.classList.add("dark"),r.refs.footerContainer.classList.add("dark"),r.refs.team.classList.add("dark"),r.refs.content.classList.add("dark"),r.refs.contentTeam.classList.add("dark"),r.refs.wrap.classList.add("dark"),r.refs.btnClose.classList.add("dark"),r.refs.scollIcon.classList.add("dark"),r.refs.registerForm.classList.add("dark"),r.refs.loginForm.classList.add("dark"),r.refs.loginedWrapper.classList.add("dark")):(r.refs.body.classList.add("light"),r.refs.body.classList.remove("dark"),r.refs.body.classList.remove("img-dark"),r.refs.headerThemeText.textContent="Dark",r.refs.iconSunBgc.classList.add("visually-hidden"),r.refs.iconMoonBgc.classList.remove("visually-hidden"),r.refs.footer.classList.remove("dark"),r.refs.footerContainer.classList.remove("dark"),r.refs.team.classList.remove("dark"),r.refs.content.classList.remove("dark"),r.refs.contentTeam.classList.remove("dark"),r.refs.wrap.classList.remove("dark"),r.refs.btnClose.classList.remove("dark"),r.refs.scollIcon.classList.remove("dark"),r.refs.registerForm.classList.remove("dark"),r.refs.loginForm.classList.remove("dark"),r.refs.loginedWrapper.classList.remove("dark"))}catch(e){}}r.refs.darkBtn.addEventListener("click",(function(e){e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark");n()})),n()})),s.register("3TU0j",(function(e,t){var r=s("3fz09");window.onscroll=()=>{window.scrollY>500?r.refs.scrollBtn.classList.remove("is-hidden"):window.scrollY<500&&r.refs.scrollBtn.classList.add("is-hidden")},r.refs.scrollBtn.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})}})),s.register("3hXKf",(function(e,t){var r=s("3fz09");function n(e){"Escape"===e.code&&(o(),window.removeEventListener("keydown",n))}function o(e){e.target===r.refs.registrationWrapper&&(r.refs.modal.classList.remove("visiable"),r.refs.body.classList.remove("no-scroll"),r.refs.registerForm.classList.remove("hidden"),r.refs.loginForm.classList.remove("visiable")),e.target===r.refs.loginedWrapper&&r.refs.loginedWrapper.classList.remove("active")}r.refs.openModalBtn.addEventListener("click",(function(){r.refs.modal.classList.add("visiable"),r.refs.body.classList.add("no-scroll"),window.addEventListener("keydown",n)})),r.refs.registrationWrapper.addEventListener("click",o),r.refs.registerBtn.addEventListener("click",(()=>{r.refs.registerBtn.classList.add("active"),setTimeout((()=>{r.refs.registerBtn.classList.remove("active")}),2500)})),r.refs.loginBtn.addEventListener("click",(()=>{r.refs.loginBtn.classList.add("active"),setTimeout((()=>{r.refs.loginBtn.classList.remove("active")}),2500)})),r.refs.changeFormLogin.addEventListener("click",(()=>{r.refs.registerForm.classList.add("hidden"),r.refs.loginForm.classList.add("visiable")})),r.refs.changeFormRegister.addEventListener("click",(()=>{r.refs.registerForm.classList.remove("hidden"),r.refs.loginForm.classList.remove("visiable")})),r.refs.iconExit.addEventListener("click",(()=>{r.refs.loginedWrapper.classList.add("active")})),r.refs.loginedWrapper.addEventListener("click",o)})),s.register("2ix2C",(function(e,t){const r=initializeApp({apiKey:"AIzaSyAr9PnJjkOaXP4O6n2hAHTbJJCMzH43B44",authDomain:"filmoteka-7ab1a.firebaseapp.com",projectId:"filmoteka-7ab1a",storageBucket:"filmoteka-7ab1a.appspot.com",messagingSenderId:"740687621716",appId:"1:740687621716:web:23af114b92a4b6ee7507c1",databaseURL:"https://filmoteka-7ab1a-default-rtdb.firebaseio.com/"}),n=getAuth(),o=getDatabase(r),s=JSON.parse(localStorage.getItem("watch")),a=JSON.parse(localStorage.getItem("queue")),i=document.querySelector("[data-content-register]");document.querySelector(".register-btn").addEventListener("click",(e=>{const t=document.querySelector(".emailRegister").value,r=document.querySelector(".passRegister").value;createUserWithEmailAndPassword(n,t,r).then((e=>{const n=e.user;set(ref(o,"users/"+n.uid),{emailRegister:t,passwordRegister:r}),Notiflix.Notify.success("User Crated"),document.querySelector(".emailRegister").value="",document.querySelector(".passRegister").value="",i.setAttribute("data-content-register","Registered")})).catch((function(e){e.code;const t=e.message;Notiflix.Notify.failure(t),document.querySelector(".emailRegister").value="",document.querySelector(".passRegister").value="",i.setAttribute("data-content-register","Hi there, it's ERROR")}))}));const c=document.querySelector("[data-content-login]");document.querySelector(".login-btn").addEventListener("click",(e=>{const t=document.querySelector(".emailLogin").value,r=document.querySelector(".passLogin").value;signInWithEmailAndPassword(n,t,r).then((e=>{const t=new Date,r=e.user;update(ref(o,"users/"+r.uid),{last_login:t}),Notiflix.Notify.success("User loged in!"),c.setAttribute("data-content-login","User loged in!")})).catch((e=>{e.code;const t=e.message;Notiflix.Notify.failure(t),c.setAttribute("data-content-login","Hi there, it's ERROR"),document.querySelector(".emailLogin").value="",document.querySelector(".passLogin").value=""}))}));const l=new CustomEvent("localdatachanged");document.dispatchEvent(l),document.addEventListener("localdatachanged",(()=>{})),onAuthStateChanged(n,(e=>{if(e){const t=e.uid;update(ref(o,"users/"+t),{watch:s,queue:a}),refs.iconEnter.classList.add("locked"),refs.iconExit.classList.add("active"),refs.modal.classList.remove("visiable")}})),refs.exitBtnFromOnline.addEventListener("click",(()=>{const e=getAuth();signOut(e).then((()=>{refs.iconEnter.classList.remove("locked"),refs.iconExit.classList.remove("active"),refs.loginedWrapper.classList.remove("active")})).catch((e=>{Notiflix.Notify.failure("User is signed out!")}))}))})),s("kyEFX").register(JSON.parse('{"5fZck":"index.56b1824c.js","45HKR":"coming_soon.265f69e2.jpg","9v6fF":"symbol-defs.0f67bb5c.svg"}'));
//# sourceMappingURL=index.56b1824c.js.map
